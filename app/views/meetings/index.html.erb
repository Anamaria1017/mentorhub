<%= month_calendar(events: @meetings) do |date, meetings| %>
  <%= date.strftime("%e") %>

  <% meetings.each do |meeting| %>
    <% if meeting.status == 'pending' %>
      <button type="button" class="card-meeting-pending" data-toggle="modal" data-target="#exampleModal-<%= meeting.id %>">
        <div>
          <p style="color:white">
            <%= meeting.name %>
          </p>
        </div>
        <div>
          <p>
          <% if current_user.profile != meeting.profile %>
            Meeting with: <%= meeting.profile.first_name %> <br>
          <% end %>
          <% if current_user.profile == meeting.profile &&  current_user.profile.mentor == true %>
            Meeting with: <%= meeting.match.mentee.first_name %> <br>
          <% end %>
          <% if current_user.profile == meeting.profile &&  current_user.profile.mentor == false %>
            Meeting with: <%= meeting.match.mentor.first_name %> <br>
          <% end %>
            At: <%= meeting.start_time.strftime('%H:%M') %> <br>
            Till: <%= meeting.end_time.strftime('%H:%M') %> <br>
            <%= meeting.status.capitalize %>
          </p>
        </div>
      </button>
      <%= render "show_meeting_modal", meeting: meeting %>
    <% end %>
    <% if meeting.status == 'accepted' %>
      <button class="card-meeting-accepted" type="button" data-toggle="modal" data-target="#exampleModal-<%= meeting.id %>">
        <div>
          <p style="color:white">
            <%= meeting.name %>
          </p>
        </div>
        <div>
          <p>
          <% if current_user.profile != meeting.profile %>
            Meeting with: <%= meeting.profile.first_name %> <br>
          <% end %>
          <% if current_user.profile == meeting.profile &&  current_user.profile.mentor == true %>
            Meeting with: <%= meeting.match.mentee.first_name %> <br>
          <% end %>
          <% if current_user.profile == meeting.profile &&  current_user.profile.mentor == false %>
            Meeting with: <%= meeting.match.mentor.first_name %> <br>
          <% end %>
            At: <%= meeting.start_time.strftime('%H:%M') %> <br>
            Till: <%= meeting.end_time.strftime('%H:%M') %> <br>
            <%= meeting.status.capitalize %>
          </p>
        </div>
      </button>
      <%= render "show_meeting_modal", meeting: meeting %>
    <% end %>
    <% if meeting.status == 'declined' %>
      <button class="card-meeting-declined" type="button" data-toggle="modal" data-target="#exampleModal-<%= meeting.id %>">
        <div>
            <p style="color:white">
              <%= meeting.name %>
            </p>
        </div>
        <div>
          <p>
          <% if current_user.profile != meeting.profile %>
            Meeting with: <%= meeting.profile.first_name %> <br>
          <% end %>
          <% if current_user.profile == meeting.profile &&  current_user.profile.mentor == true %>
            Meeting with: <%= meeting.match.mentee.first_name %> <br>
          <% end %>
          <% if current_user.profile == meeting.profile &&  current_user.profile.mentor == false %>
            Meeting with: <%= meeting.match.mentor.first_name %> <br>
          <% end %>
            At: <%= meeting.start_time.strftime('%H:%M') %> <br>
            Till: <%= meeting.end_time.strftime('%H:%M') %> <br>
            <%= meeting.status.capitalize %>
          </p>
        </div>
      </button>
      <%= render "show_meeting_modal", meeting: meeting %>
    <% end %>
  <% end %>
<% end %>
